<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
            body{margin: 0px;width: 100%;height: 100%;position: relative;}

            #head,#food{width: 10px;height: 10px;position: absolute;left: 0px;top: 0px;right: 0px;bottom: 0px;z-index: 1;background: coral;}

            .body{width: 10px;height: 10px;position: absolute;left: 0px;top: 0px;right: 0px;bottom: 0px;z-index: 0;background: red;}
    
    
    </style>
    <script>
            function Snake(){
                this.width=document.documentElement.clientWidth||document.body.clientWidth;
                this.height=document.documentElement.clientHeight||document.body.clientHeight;
                this.body=document.getElementsByTagName("body")[0];
                this.create=function(){
                    var _head=document.createElement("div");
                    _head.id="head";
                    this.body.appendChild(_head);
                    _head.style.left=30+"px";

                    var _body;
                    for(var i=0;i<3;i++){
                        _body=document.createElement("div");
                        _body.className="body";
                        _body.style.left=(3-1-i)*10+"px";
                        this.body.appendChild(_body);
                    }
                }
                
                this.food=function(){
                    var _food=document.createElement("div")
                    _food.id="food";
                    _food.style.left=Math.floor((this.width-10)*Math.random()/10)*10+"px";
                    _food.style.top=Math.floor((this.height-10)*Math.random()/10)*10+"px";
                    this.body.appendChild(_food);

                }
                
                this.move=function(a,b){
                    for(var i=this.body.children.lenght-1-1;i>=1;i--){
                        this.body.children[i].style.left=this.body.children[i-1].style.left;
                        this.body.children[i].style.top=this.body.children[i-1].style.top;
                    }
                    var _offset="offset"+a[0].toUpperCase()+a.slice(1);
                    this.body.children[0].style[a]=this.body.children[0][_offset]+10*b+"px";
                }

            this.auto=function(j,i){
                var _me=this;
                window.clearInterval(this.timer);
                this.timer=window.setInterval(function(){
                    _me.move(j,i);
                },80)
            }

            this.events=function(){
                    var _me=this;
                    document.onkeydown=function(e){
                        var _code;
                        e=e||window.event;
                        _code=e.keyCode||e.which;
                        switch(_code){
                            case 37:_me.auto("left",-1);break;
                            case 38:_me.auto("top",-1);break;
                            case 39:_me.auto("left",1);break;
                            case 40:_me.auto("top",1);break;
                        }
                    }
                }
                this.create();
                this.food();
                this.events();
            }
            window.onload=function(){
                new Snake();
            }
    
    
    
    </script>
</head>
<body>
    
</body>
</html>